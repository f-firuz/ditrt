<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Слайдер с карточками</title>
    <!-- Подключаем Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      /* Контейнер для слайдера */
      .card-slider-container {
        position: relative;
        overflow: hidden;
        border-radius: 10px;
        margin: 20px 0;
      }

      /* Внутренний контейнер с карточками */
      .card-slider {
        display: flex;
        transition: transform 0.5s ease-in-out;
        width: 100%;
        gap: 15px;
        padding: 20px;
        box-sizing: border-box;
      }

      /* Карточки */
      .card {
        flex: 0 0 24%; /* 4 карточки в ряду */
        border: 1px solid #ddd;
        border-radius: 10px;
        margin: 0;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        height: 484px;
        display: flex;
        flex-direction: column;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      .card-img-top {
            height: 266px;
    object-fit: fill;
    border-radius: 10px 10px 0 0;
      }

      .card-body {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        padding: 15px;
      }

      .card-text {
        flex-grow: 1;
        margin-bottom: 10px;
      }

      /* Кнопки навигации */
      .slider-controls {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 10;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .slider-controls:hover {
        background: rgba(255, 255, 255, 1);
        transform: translateY(-50%) scale(1.1);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .prev-btn {
        left: 10px;
      }

      .next-btn {
        right: 10px;
      }

      /* Скрываем кнопки по умолчанию */
      .slider-controls {
        opacity: 0;
        pointer-events: none;
      }

      /* Показываем при наведении */
      .card-slider-container:hover .slider-controls {
        opacity: 1;
        pointer-events: auto;
      }

      /* Индикаторы */
      .slider-indicators {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-top: 20px;
      }

      .indicator-btn {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        border: 2px solid #ddd;
        background: transparent;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .indicator-btn.active {
        background: #007bff;
        border-color: #007bff;
      }

      /* Адаптивность */
      @media (max-width: 768px) {
        .card {
          flex: 0 0 48%; /* 2 карточки в ряду на планшетах */
        }
      }

      @media (max-width: 576px) {
        .card {
          flex: 0 0 100%; /* 1 карточка на мобильных */
        }

        .slider-controls {
          width: 40px;
          height: 40px;
        }
      }

      /* Авто-прокрутка эффект */
      @keyframes slideIn {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-25%);
        }
      }
    </style>
  </head>
  <body>
    <div class="container my-5">
      <div class="container">
        <div
          class="text-center mx-auto mb-5 wow fadeInUp"
          data-wow-delay="0.1s"
          style="max-width: 1000px"
        >
          <div
            class="d-inline-block rounded-pill bg-secondary text-primary py-1 px-3 mb-3"
          >
            РОҲБАРИЯТ
          </div>
          <h1 class="display-6 mb-5">
            РОҲБАРИЯТИ ДОНИШГОҲ — КАФИЛИ РУШДИ ИЛМӢ ВА ТАШКИЛӢ.
          </h1>
        </div>

      <div class="card-slider-container">
        <!-- Кнопки навигации -->
        <button class="slider-controls prev-btn" id="prevBtn">
          <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
            <path
              d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"
            />
          </svg>
        </button>

        <button class="slider-controls next-btn" id="nextBtn">
          <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
            <path
              d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"
            />
          </svg>
        </button>

        <!-- Контейнер со всеми карточками -->
        <div class="card-slider" id="cardSlider">
          <!-- Карточка 1 -->
          <div class="card">
           <img
                        src="img/rohbariyat/rector.webp"
                        class="card-img-top "
                        alt="Card image"
                      />
            <div class="card-body text-center">
              <h5 class="card-title">Шоҳиён Алмосшо Набот</h5>
              <p class="card-text">
                Ректори Донишгоҳи инноватсия ва технологияҳои рақамии
                          Тоҷикистон шаҳри Кӯлоб
              </p>
              <button class="btn btn-primary mt-auto">Муфассал</button>
            </div>
          </div>

          <!-- Карточка 2 -->
             <div class="card">
           <img
                        src="img/rohbariyat/muovin 1.webp"
                        class="card-img-top card-img-top2"
                        alt="Card image"
                      />
            <div class="card-body text-center">
              <h5 class="card-title">Қурбонзода Бобохон Давлат</h5>
              <p class="card-text">
                    Муовини аввал, муовини ректор оид ба таълим ва идораи
                          сифати таҳсилот
              </p>
              <button class="btn btn-primary mt-auto">Муфассал</button>
            </div>
          </div>

          <!-- Карточка 3 -->
              <div class="card">
             <img
                        src="img/rohbariyat/muovin 2.webp"
                        class="card-img-top card-img-top2"
                        alt="Card image"
                      />
            <div class="card-body text-center">
              <h5 class="card-title">Ҳакимов Искандар Бозорович</h5>
              <p class="card-text">
             Муовини ректор оид ба инноватсия, рақамикунонӣ ва
                          равобити хориҷӣ
              </p>
              <button class="btn btn-primary mt-auto">Муфассал</button>
            </div>
          </div>

          <!-- Карточка 4 -->
             <div class="card">
           <img
                        src="img/rohbariyat/muovin 3.webp"
                        class="card-img-top card-img-top2"
                        alt="Card image"
                      />
            <div class="card-body text-center">
              <h5 class="card-title">Холматова Мумина Маҳмадовна</h5>
              <p class="card-text">
           Муовини ректор оид ба тарбия, тарғибот ва масоили
                          иҷтимоӣ
              </p>
              <button class="btn btn-primary mt-auto">Муфассал</button>
            </div>
          </div>

          <!-- Карточка 5 -->
                <!-- <div class="card">
          <img
                        src="img/rohbariyat/muovin 2.webp"
                        class="card-img-top card-img-top2"
                        alt="Card image"
                      />
            <div class="card-body text-center">
              <h5 class="card-title"> Ҳакимов Искандар Бозорович</h5>
              <p class="card-text">
               Муовини ректор оид ба инноватсия, рақамикунонӣ ва
                          равобити хориҷӣ
              </p>
              <button class="btn btn-primary mt-auto">Муфассал</button>
            </div>
          </div> -->

          

        </div>
      </div>

      <!-- Индикаторы -->
      <div class="slider-indicators" id="sliderIndicators"></div>
    </div>
    </div>

    <script>
      class CardSlider {
        constructor() {
          this.slider = document.getElementById("cardSlider");
          this.prevBtn = document.getElementById("prevBtn");
          this.nextBtn = document.getElementById("nextBtn");
          this.indicatorsContainer =
            document.getElementById("sliderIndicators");

          this.cards = this.slider.querySelectorAll(".card");
          this.cardWidth = this.cards[0].offsetWidth + 15; // ширина карточки + gap
          this.currentIndex = 0;
          this.visibleCards = 4; // количество видимых карточек
          this.maxIndex = Math.max(0, this.cards.length - this.visibleCards);
          this.autoSlideInterval = null;
          this.isAutoSlide = true; // включить автопрокрутку

          this.init();
        }

        init() {
          this.createIndicators();
          this.updateSlider();
          this.bindEvents();

          // Запускаем автопрокрутку
          if (this.isAutoSlide) {
            this.startAutoSlide();
          }
        }

        createIndicators() {
          const totalGroups = Math.ceil(this.cards.length / this.visibleCards);

          for (let i = 0; i < totalGroups; i++) {
            const indicator = document.createElement("button");
            indicator.className = "indicator-btn";
            if (i === 0) indicator.classList.add("active");
            indicator.addEventListener("click", () => this.goToSlide(i));
            this.indicatorsContainer.appendChild(indicator);
          }

          this.indicators =
            this.indicatorsContainer.querySelectorAll(".indicator-btn");
        }

        updateSlider() {
          const translateX = -(
            this.currentIndex *
            this.cardWidth *
            this.visibleCards
          );
          this.slider.style.transform = `translateX(${translateX}px)`;

          // Обновляем активный индикатор
          this.indicators.forEach((indicator, index) => {
            indicator.classList.toggle("active", index === this.currentIndex);
          });

          // Обновляем состояние кнопок
          this.prevBtn.disabled = this.currentIndex === 0;
          this.nextBtn.disabled = this.currentIndex >= this.maxIndex;
        }

        goToSlide(index) {
          this.currentIndex = Math.max(0, Math.min(index, this.maxIndex));
          this.updateSlider();
          this.pauseAutoSlide();
        }

        nextSlide() {
          if (this.currentIndex < this.maxIndex) {
            this.currentIndex++;
            this.updateSlider();
            this.pauseAutoSlide();
          }
        }

        prevSlide() {
          if (this.currentIndex > 0) {
            this.currentIndex--;
            this.updateSlider();
            this.pauseAutoSlide();
          }
        }

        bindEvents() {
          this.nextBtn.addEventListener("click", () => this.nextSlide());
          this.prevBtn.addEventListener("click", () => this.prevSlide());

          // Пауза автопрокрутки при наведении
          const container = document.querySelector(".card-slider-container");
          container.addEventListener("mouseenter", () => {
            if (this.isAutoSlide) {
              this.pauseAutoSlide();
            }
          });

          container.addEventListener("mouseleave", () => {
            if (this.isAutoSlide) {
              this.startAutoSlide();
            }
          });

          // Обработка кликов по кнопкам "Подробнее"
          this.slider.addEventListener("click", (e) => {
            if (e.target.classList.contains("btn-primary")) {
              const cardTitle = e.target
                .closest(".card")
                .querySelector(".card-title").textContent;
              alert(`Открыть подробную информацию о: ${cardTitle}`);
            }
          });
        }

        startAutoSlide() {
          this.pauseAutoSlide();
          this.autoSlideInterval = setInterval(() => {
            this.nextSlide();
          }, 4000); // каждые 4 секунды
        }

        pauseAutoSlide() {
          if (this.autoSlideInterval) {
            clearInterval(this.autoSlideInterval);
            this.autoSlideInterval = null;
          }
        }

        // Для адаптивности - пересчитываем при изменении размера окна
        handleResize() {
          this.cardWidth = this.cards[0].offsetWidth + 15;
          // Определяем количество видимых карточек в зависимости от ширины экрана
          const containerWidth = document.querySelector(
            ".card-slider-container"
          ).offsetWidth;
          if (window.innerWidth < 576) {
            this.visibleCards = 1;
          } else if (window.innerWidth < 768) {
            this.visibleCards = 2;
          } else {
            this.visibleCards = 4;
          }
          this.maxIndex = Math.max(0, this.cards.length - this.visibleCards);
          this.updateSlider();
        }
      }

      // Инициализация слайдера
      let slider;

      function initSlider() {
        if (slider) {
          slider.pauseAutoSlide();
        }
        slider = new CardSlider();
      }

      // Запуск при загрузке страницы
      document.addEventListener("DOMContentLoaded", initSlider);

      // Пересчет при изменении размера окна
      window.addEventListener("resize", () => {
        setTimeout(initSlider, 250);
      });
    </script>
  </body>
</html>
